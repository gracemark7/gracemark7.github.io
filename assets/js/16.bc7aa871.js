(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{223:function(s,n,e){"use strict";e.r(n);var r=e(0),t=Object(r.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("div",{staticClass:"content"},[s._m(0),s._v(" "),e("p",[s._v("二次开发\n异步编程模型")]),s._v(" "),e("p",[s._v("编程思维、\n面向对象、\nSequelize 与 MySQL")]),s._v(" "),e("p",[s._v("Nodejs 能力：\nNodeJS Stream（前端工程化基础）\n脱离浏览器运行 JS\n服务端 API\n作为中间层")]),s._v(" "),e("p",[s._v("CTO 往往是由服务端工程师担任\n技术架构、考虑全局、公司重要资产（数据）")]),s._v(" "),e("p",[s._v("javascript 语言本身的深度进阶")]),s._v(" "),e("p",[s._v("语法 Python  VS   ES2019\n原型链 工程化 oo")]),s._v(" "),e("p",[s._v("面向对象")]),s._v(" "),e("p",[s._v("NodeJS 脱离浏览器")]),s._v(" "),e("p",[s._v("异步\nasync await\n资源 http 异步 操作数据库")]),s._v(" "),s._m(1),s._v(" "),e("p",[s._v("1、\nMySQL （XAMPP）\nNavicat （数据库可视化管理工具）\nnodemon （自动重启服务器工具）pm2\nnvm 管理 node 版本")]),s._v(" "),e("p",[s._v("Node js 脱离浏览器\n3、\n后端：读写数据库   提供 API\n//写出好的代码、提高开发效率\n悲观锁、乐观锁、事务、脏读、幻读\nAPI 低级、基础、\n基于 NodeJs 专业开发 web KOA Express\n洋葱模型 精简 KOA 二次开发 比较好用\n定制化能力越强 喜好 习惯 二次开发 非常好用 高级 KOA\nLin CMS ：KOA+Vue\n4、\n项目独立命名\n服务器程序：\nCommons require")]),s._v(" "),e("p",[s._v("es6 Import from")]),s._v(" "),e("p",[s._v("AMD")]),s._v(" "),e("p",[s._v("//实验特性 es6 es7 node \n//es10 import decorator class\nTC39 查看最新 js 特性提案\nbabel es6 转换 es5\nTS Typescript \n5、\n洋葱模型")]),s._v(" "),e("p",[s._v("异步编程解决方案：")]),s._v(" "),e("p",[s._v("Promise async await  基础是 Promise")]),s._v(" "),e("p",[s._v("await：（  求值关键字   对表达式求值、阻塞当前线程）\n异步操作：对资源、读文件、发送 http  操作数据库\naxios  基于 Promise")]),s._v(" "),e("p",[s._v("const res = await axiso.get('https://www.baidu.com/') //1min")]),s._v(" "),e("p",[s._v("加上 await，本来是异步的调用变成同步调用")]),s._v(" "),e("p",[s._v("C#\nasync：返回 promise")]),s._v(" "),e("p",[s._v('async function f1(){\n  return "hello"\n}')]),s._v(" "),e("p",[s._v("console.log(f1())")]),s._v(" "),e("p",[s._v("async await  异步终极解决方案")]),s._v(" "),e("p",[s._v("异步编程思维")]),s._v(" "),e("p",[s._v("API 网站：http://bl.7yue.pro/dev/classic.html#id2")]),s._v(" "),e("p",[s._v("中间件：函数")]),s._v(" "),e("p",[s._v("中间件返回 promise")]),s._v(" "),e("p",[s._v("上下文（Context）")]),s._v(" "),e("p",[s._v("Koa Context  将  node  的  request  和  response  对象封装到单个对象中，为编写  Web  应用程序和  API  提供了许多有用的方法。  这些操作在  HTTP  服务器开发中频繁使用，它们被添加到此级别而不是更高级别的框架，这将强制中间件重新实现此通用功能。")]),s._v(" "),e("p",[s._v("为什么一定要按照洋葱模型")]),s._v(" "),s._m(2),s._v(" "),e("p",[s._v("路由\n自动加载路由注册  require-directory")]),s._v(" "),e("p",[s._v("类的思想")]),s._v(" "),e("p",[s._v("路由拆分")]),s._v(" "),e("p",[s._v("动脑筋   思考   能不能简化。程序员一定要懒")]),s._v(" "),e("p",[s._v("服务端（数据库设计）  主题   模型")]),s._v(" "),e("p",[s._v("Process.cwd()  当前 Node.js 进程执行时的工作目录")]),s._v(" "),e("p",[s._v("__dirname:  当前模块的目录名")]),s._v(" "),s._m(3),s._v(" "),s._m(4),s._v(" "),e("p",[s._v("参数获取与 LinValidator 校验器")]),s._v(" "),e("p",[s._v("TP5 Python WTForms LinValidator")]),s._v(" "),s._m(5),s._v(" "),e("p",[s._v("Koa 库 包 返回的是封装好的 promise 例如：axios、Sequelize")]),s._v(" "),e("p",[s._v("awiat 对一个表达式来求值")]),s._v(" "),s._m(6),e("p",[s._v("//监听   全局异常处理")]),s._v(" "),e("p",[s._v("//中间件 --全局异常处理 AOP 面向切面编程\n监听错误，输出一段有意义的提醒信息")]),s._v(" "),s._m(7),e("p",[s._v("定义异常返回格式")]),s._v(" "),s._m(8),e("p",[s._v("//list.js")]),s._v(" "),s._m(9),e("p",[s._v("//定义 HttpException 异常基类")]),s._v(" "),s._m(10),e("p",[s._v("//特定异常类与 global 全局变量")]),s._v(" "),s._m(11),s._v(" "),s._m(12),s._v(" "),e("p",[s._v("4、\n关系型数据库：\nMS 持久化数据  SQLServer Oracle   PostgresSQL\nSQL 语言 增删改查\nCRUD\nORM")]),s._v(" "),e("p",[s._v("非关系型数据库  \nRedis（key：value）做缓存  \n MongoDB(文档型数据库) 持续化数据、 ODM")]),s._v(" "),e("p",[s._v("数据库 增删改查")]),s._v(" "),e("p",[s._v("SQL 语言")]),s._v(" "),e("p",[s._v("XAMPP")]),s._v(" "),e("p",[s._v("数据库可视化工具：")]),s._v(" "),e("p",[s._v("Navicat 管理 MySQL")]),s._v(" "),e("p",[s._v("Sequelize 连接数据库   配置一些数据库的参数")]),s._v(" "),e("p",[s._v("Sequelize 框架\n"),e("a",{attrs:{href:"https://sequelize.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Sequelize 官方文档："),e("OutboundLink")],1),s._v("\nSequelize 是一个基于 Promise 的 Node.js ORM，适用于 Postgres、MySQL、MariaDB、SQLite 和 Microsoft SQL Server。 它具有可靠的事务支持、关系、急切和延迟加载、读取复制等。")]),s._v(" "),e("p",[s._v("主键不能为空 不能重复")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/TaleLin",target:"_blank",rel:"noopener noreferrer"}},[s._v("gitHub-lincms"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("nodejs  异步编程思维")]),s._v(" "),e("p",[s._v("性能：并发量处理的好")])])}),[function(){var s=this.$createElement,n=this._self._c||s;return n("h5",{attrs:{id:"第一章、用-node-js-koa2-打造超好用的-web-框架"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第一章、用-node-js-koa2-打造超好用的-web-框架"}},[this._v("#")]),this._v(" 第一章、用 Node.js KOA2 打造超好用的 Web 框架")])},function(){var s=this.$createElement,n=this._self._c||s;return n("h5",{attrs:{id:"第二章-koa2-的那点事儿与异步编程模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第二章-koa2-的那点事儿与异步编程模型"}},[this._v("#")]),this._v(" 第二章 Koa2 的那点事儿与异步编程模型")])},function(){var s=this.$createElement,n=this._self._c||s;return n("h5",{attrs:{id:"第三章-路由系统的改造"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第三章-路由系统的改造"}},[this._v("#")]),this._v(" 第三章   路由系统的改造")])},function(){var s=this.$createElement,n=this._self._c||s;return n("h5",{attrs:{id:"第四章-异步异常与全局异常处理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第四章-异步异常与全局异常处理"}},[this._v("#")]),this._v(" 第四章 异步异常与全局异常处理")])},function(){var s=this.$createElement,n=this._self._c||s;return n("p",[n("em",[this._v("异步异常处理")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("p",[this._v("函数返回 promise 加上 async await ，使用 try catch 进行处理，异步和同步就没什么区别\n"),n("strong",[this._v("深入理解 promie")]),this._v("\nPromise async await")])},function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("function func1(){\n   func2()\n}\nasync function func2(){\n  try{\n   await func3()\n  }catch(error){\n    console.log(\"error1\",error)\n  }\n}\n//全局异常处理\nfunction func3(){\n   return new  Promise((resolve,reject)=>{\n    const r = Math.random()\n    if(r<0.5){\n      reject('error2')\n    }\n   })\n  // return await setTimeout(function(){\n  //   throw new Error('error2')\n  // },1000)\n}\nfunc1()\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br")])])},function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const catchError = async (ctx,next) => {\n  try {\n   await next()\n  }catch (error){\n    //error 堆栈调用\n    //j简化 清晰明了的信息 给前端\n    //      HTTP 状态码  Code\n    ctx.body = \"服务器错误！！！\"\n    //message\n    //error_code 详细，开发者自己定义 10001 20003\n    //request_url 当前请求url\n    //已知型错误 param int ‘'abc'  已知\n    //处理错误，明确\n    try catch 处理错误 明确\n\n    //未知型错误 程序潜在错误 无意识 根本不知道错误\n    //链接数据库 账号 密码    输入错误\n\n  }\n} \nmodule.exports = catchError\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br")])])},function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("//全局中间件\nconst catchError = async (ctx,next) => {\n  try {\n   await next()\n  }catch (error){\n    if(error.errorCode){\n      ctx.body = {\n        msg:error.message,\n        error_code:error.errorCode,\n        requestUrl: error.requestUrl\n      }\n      ctx.status = error.status\n    }\n  }\n} \nmodule.exports = catchError\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])])},function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("router.post(\"/v1/:id/list/listDate\",(ctx,next) => {\n  const path = ctx.params\n  const query = ctx.request.query\n  const headers = ctx.request.header\n  const body = ctx.request.body\n  if(true){\n   const error =   new Error(\"为什么错误\")\n   error.errorCode = 10001\n   error.status = 400\n   error.requestUrl = `${ctx.method}${ctx.path}`\n   throw error\n  }\n  ctx.body = {\n    key:'这里是数据77'\n  }\n  // throw new Error('API Exception')\n})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br")])])},function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("class HttpException extends Error {\n constructor(msg='服务器异常',errorCode=10000,code=400){\n   super()\n   this.errorCode = errorCode\n   this.code = code\n   this.msg = msg\n }\n}\nmodule.exports = { \n HttpException \n}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h5",{attrs:{id:"第五章-linvalidator-校验器与-sequelize-orm-生成-mysql-数据表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第五章-linvalidator-校验器与-sequelize-orm-生成-mysql-数据表"}},[this._v("#")]),this._v(" 第五章 LinValidator 校验器与 Sequelize Orm 生成 MySQL 数据表")])},function(){var s=this.$createElement,n=this._self._c||s;return n("p",[n("strong",[this._v("持久存储数据")])])}],!1,null,null,null);n.default=t.exports}}]);