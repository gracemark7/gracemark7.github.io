(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{233:function(s,t,e){"use strict";e.r(t);var a=e(0),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"content"},[s._m(0),s._v(" "),s._m(1),s._v(" "),s._m(2),s._v(" "),s._m(3),s._v(" "),s._m(4),s._v(" "),s._m(5),s._v(" "),s._m(6),e("p",[s._v("为了node、jest能够运行es6")]),s._v(" "),e("p",[s._v("安装babel")]),s._v(" "),s._m(7),e("p",[s._v("npm run jest")]),s._v(" "),e("p",[s._v("jest (babel-jest)")]),s._v(" "),e("p",[s._v("babel-core")]),s._v(" "),e("p",[s._v("取.babelrc 配置")]),s._v(" "),e("p",[s._v("在运行之前，结合babel，先把代码做一次转换")]),s._v(" "),e("p",[s._v("运行转换过的测试用例代码")]),s._v(" "),s._m(8),s._v(" "),s._m(9),s._v(" "),s._m(10),s._v(" "),e("p",[s._v("1、回调类型异步函数类型\n测试函数，传入done参数。当函数执行完毕，调用done函数。")]),s._v(" "),s._m(11),s._m(12),s._m(13),e("p",[s._v("异步测试用例：")]),s._v(" "),s._m(14),s._m(15),s._m(16),s._v(" "),e("p",[s._v("Jest 中的 Mock")]),s._v(" "),e("p",[s._v("2、进阶")]),s._v(" "),e("p",[s._v("napshot 快照测试\nmock 深入学习\nmock timers\nES6 中类的测试\nJest  中对 DOM 节点操作的测试")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://jestjs.io/zh-Hans/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网文档"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("参考："),e("a",{attrs:{href:"https://juejin.im/post/5b308f5e6fb9a00e5d798c3c#heading-4",target:"_blank",rel:"noopener noreferrer"}},[s._v("Vue单元测试探索"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("参考："),e("a",{attrs:{href:"https://segmentfault.com/a/1190000020336411",target:"_blank",rel:"noopener noreferrer"}},[s._v("前端自动化测试"),e("OutboundLink")],1)])])}),[function(){var s=this.$createElement,t=this._self._c||s;return t("h4",{attrs:{id:"一-、jest是一个令人愉快的-javascript-测试框架，专注于简洁明快。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一-、jest是一个令人愉快的-javascript-测试框架，专注于简洁明快。"}},[this._v("#")]),this._v(" 一 、Jest是一个令人愉快的 JavaScript 测试框架，专注于简洁明快。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h4",{attrs:{id:"_1、基础"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、基础"}},[this._v("#")]),this._v(" 1、基础")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h5",{attrs:{id:"_1-1自动化测试背景及原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1自动化测试背景及原理"}},[this._v("#")]),this._v(" 1.1自动化测试背景及原理")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h5",{attrs:{id:"_1-2jest自动化测试框架简介用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2jest自动化测试框架简介用"}},[this._v("#")]),this._v(" 1.2Jest自动化测试框架简介用")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h5",{attrs:{id:"_1-3jest-修改自动化测试样例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3jest-修改自动化测试样例"}},[this._v("#")]),this._v(" 1.3Jest 修改自动化测试样例")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h5",{attrs:{id:"_1-4jest-的配置-匹配器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4jest-的配置-匹配器"}},[this._v("#")]),this._v(" 1.4Jest 的配置/匹配器")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("npx jest --init\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("npm install --save-dev @babel/core @babel/cli @babel/preset-env\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h6",{attrs:{id:"匹配器："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#匹配器："}},[this._v("#")]),this._v(" 匹配器：")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h6",{attrs:{id:"jest-命令行工具的使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jest-命令行工具的使用"}},[this._v("#")]),this._v(" Jest 命令行工具的使用")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h6",{attrs:{id:"异步代码的测试方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#异步代码的测试方法"}},[this._v("#")]),this._v(" 异步代码的测试方法")])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("\nimport axios from 'axios'\nexport const fetchData = () => {\n    // axios.get('http://www.dell-lee.com/react/api/demo.json').then((response) => {\n    //     fn(response.data)\n    // })\n   return  axios.get('http://www.dell-lee.com/react/api/demo.json')\n    //  .then((response) => {\n    //     fn(response.data)\n    // })\n}\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("\nimport { fetchData } from './fetchData'\n// test(\"fetchData 返回结果为true\", (done) => {\n//     // fetchData((data) => {\n//     //     expect(data).toEqual({\n//     //         success: true\n//     //     })\n//     //     done()\n//     // })\n//    return fetchData().then((response) => {\n//       expect(response.data).toEqual({\n//             success: true\n//         })\n//     })\n// })\ntest(\"fetchData 返回结果为true\", () => {\n    // fetchData((data) => {\n    //     expect(data).toEqual({\n    //         success: true\n    //     })\n    //     done()\n    // })\n   return fetchData().then((response) => {\n      expect(response.data).toEqual({\n            success: true\n        })\n        \n        \n     //404\n     \n     \n expect.assertions(1)\n    return fetchData().catch((e) => {\n        expect(e.toString().indexOf('404')>-1).toBe(true)\n    })\n\n\n    })\n})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("return expect(fetchData()).rejects.toThrow();\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" expect.assertions(1)\n    try {\n        await fetchData();\n    }catch(e){\n        console.log(e)\n    }\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("  // const response = await fetchData();\n    // expect(response.data).toEqual({\n    //     success: true\n    // })\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br"),t("span",{staticClass:"line-number"},[this._v("3")]),t("br"),t("span",{staticClass:"line-number"},[this._v("4")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h6",{attrs:{id:"jest-中的钩子函数钩子函数的作用域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jest-中的钩子函数钩子函数的作用域"}},[this._v("#")]),this._v(" Jest 中的钩子函数钩子函数的作用域")])}],!1,null,null,null);t.default=n.exports}}]);