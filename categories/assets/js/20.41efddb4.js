(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{227:function(s,e,t){"use strict";t.r(e);var n=t(0),a=Object(n.a)({},(function(){var s=this.$createElement;this._self._c;return this._m(0)}),[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"content"},[t("p",[s._v("React ： A JS library for building user interfaces")]),s._v(" "),t("p",[s._v("React 中的组件")]),s._v(" "),t("h4",{attrs:{id:"三、todolist-demo-基础"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、todolist-demo-基础"}},[s._v("#")]),s._v(" 三、Todolist-Demo 基础")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("//immutable\n\nstate 不允许我们做任何改变\n deleteTodoItem (index){\n    const list = [...this.state.todoItems];\n    list.splice(index,1)\n    this.setState({\n      todoItems:list\n    })\n  }\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("2、JSX")]),s._v(" "),t("p",[s._v("写注释")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("{\n//这样写注释\n\n{/*注释...*/}\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("3、不转译：")]),s._v(" "),t("div",{staticClass:"language-\\ line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("<li key={index}  onClick={this.deleteTodoItem.bind(this,index)}\n                  dangerouslySetInnerHTML={{ __html:item }}\n                >\n</li>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("4、组件拆分、传值\n组件-树形结构")]),s._v(" "),t("p",[s._v("父组件通过属性向子组件传值，子组件通过 this.props.xxx 接受值")]),s._v(" "),t("p",[s._v("既可以传递数据、也可以传递方法")]),s._v(" "),t("p",[s._v("注意：子调用父组件方法，父组件传递函数 this 指向绑定")]),s._v(" "),t("p",[s._v("5、优化")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("this.props.deleteTodoItemBtn(this.props.index)\n\n\n//解构赋值\n    const { deleteTodoItemBtn,index } = this.props\n    deleteTodoItemBtn(index)\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("this 指向的绑定，组件初始化的时候，this 指向改好。提升页面性能")]),s._v(" "),t("p",[s._v("精简 jsx 内逻辑，单独封装函数，引入")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("//触发input框\n this.setState({\n      todoItems:list\n    })\n\n\n    this.setState( () =>{\n      return {\n        inputValue: e.target.value\n      }\n    })\n\n\nconst value = e.target.value;\n    this.setState(() => ({\n      inputValue:value\n    }))\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('//添加\n this.setState({\n      todoItems:[...this.state.todoItems,this.state.inputValue],\n      inputValue:""\n    })\n    //Es6函数语法\n    this.setState((prevState) => ({\n      todoItems:[...prevState.todoItems,prevState.inputValue],\n      inputValue:""\n    }))\n\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("//删除\n\n优化前：\nconst list = [...this.state.todoItems];\n    list.splice(index,1)\n    this.setState({\n      todoItems:list\n    })\n\n    优化后：\n    this.setState((prevState) => {\n      const todoItems = [...prevState.todoItems];\n      todoItems.splice(index,1)\n      return { todoItems }\n    })\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("思考：")]),s._v(" "),t("p",[s._v("命令式编程")]),s._v(" "),t("p",[s._v("声明式编程、组件化")]),s._v(" "),t("p",[s._v("单向数据流：父组件单向传给子组件，但不能改变")]),s._v(" "),t("p",[s._v("视图层框架（数据传值交给 redux、mbox 框架）")]),s._v(" "),t("p",[s._v("函数式编程（自动化测试到来便捷）")]),s._v(" "),t("h4",{attrs:{id:"四、react-高级内容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、react-高级内容"}},[s._v("#")]),s._v(" 四、React 高级内容")]),s._v(" "),t("p",[s._v("1、开发者工具：chorm 扩展程序")]),s._v(" "),t("p",[s._v("React Developer Tools")]),s._v(" "),t("p",[s._v("PropTypes 与 DefaultProps 的应用：")]),s._v(" "),t("p",[s._v("PropTypes：接受外部传入的 prop 进行校验")]),s._v(" "),t("p",[s._v("DefaultProps：父组件没有向子组件传递数据，定义默认值")]),s._v(" "),t("p",[s._v("2、props，state 与 render 函数的关系")]),s._v(" "),t("p",[s._v("当组件的 state 或者 props 发生改变的时候，render 函数就会重新执行")]),s._v(" "),t("p",[s._v("当父组件的 render 函数被运行时，它的子组件的 render 都被重新运行一次")]),s._v(" "),t("p",[s._v("3、React 中的虚拟 DOM")]),s._v(" "),t("p",[s._v("虚拟 DOM 就是一个 JS 对象")]),s._v(" "),t("p",[s._v("4、深入了解虚拟 DOM")]),s._v(" "),t("p",[s._v("JSX -> creatElement -> 虚拟 DOM(js 对象) -> 真实 DOM")]),s._v(" "),t("p",[s._v("虚拟 DOM 优点：")]),s._v(" "),t("p",[s._v("性能提升、跨段应用得以实现（RN）、")]),s._v(" "),t("p",[s._v("5、虚拟 DOM 中的 Diff 算法")]),s._v(" "),t("p",[s._v("setState 异步函数")]),s._v(" "),t("p",[s._v("setState 只在合成事件和钩子函数中是“异步”的，在原生事件和 setTimeout 中都是同步的。")]),s._v(" "),t("p",[s._v("setState 的“异步”并不是说内部由异步代码实现，其实本身执行的过程和代码都是同步的，只是合成事件和钩子函数的调用顺序在更新之前，导致在合成事件和钩子函数中没法立马拿到更新后的值，形式了所谓的“异步”，当然可以通过第二个参数 setState(partialState, callback) 中的 callback 拿到更新后的结果。")]),s._v(" "),t("p",[s._v("setState 的批量更新优化也是建立在“异步”（合成事件、钩子函数）之上的，在原生事件和 setTimeout 中不会批量更新，在“异步”中如果对同一个值进行多次 setState ， setState 的批量更新策略会对其进行覆盖，取最后一次的执行，如果是同时 setState 多个不同的值，在更新时会对其进行合并批量更新。")]),s._v(" "),t("p",[s._v("diff 同层对比")]),s._v(" "),t("p",[s._v("6、React 中 ref 的使用")]),s._v(" "),t("p",[s._v("ref 帮助直接获取 DOM 元素使用")]),s._v(" "),t("p",[s._v("结合 setState 使用时，获取 DOM 不及时，由于 setState 在这里是异步。可以放到 setState 回调中执行 DOM 操作")]),s._v(" "),t("p",[s._v("ref 作用于 React 内置的 Html 组件，得到真实的 DOM 对象")]),s._v(" "),t("p",[s._v("ref 作用于类组件，得到类的实例对象")]),s._v(" "),t("p",[s._v("ref 不能作用于函数组件上（即引用组件是函数组件的话，给函数组件使用 ref 会报错）")]),s._v(" "),t("p",[s._v("ref 属性推荐传递对象或函数")]),s._v(" "),t("p",[s._v("对象  (通过  React.createRef()  创建或手动创建  { current: null })")]),s._v(" "),t("p",[s._v("7、生命周期：函数在某一时刻组件自动调用执行的函数")]),s._v(" "),t("p",[s._v("挂载")]),s._v(" "),t("p",[s._v("render")]),s._v(" "),t("p",[s._v("componentDidMount")]),s._v(" "),t("p",[s._v("更新")]),s._v(" "),t("p",[s._v("shouldComponentUpdate")]),s._v(" "),t("p",[s._v("render")]),s._v(" "),t("p",[s._v("componentDidUpdate")]),s._v(" "),t("p",[s._v("卸载")]),s._v(" "),t("p",[s._v("React 生命周期函数的使用场景：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("//当父组件render执行，子组件处理不需要执行\nshouldComponentUpdate(nextProps,nextState){\n    if(nextProps.content !== this.props.content){\n      return true\n    }else{\n      return false\n    }\n  }\n\n  //ajax请求\n\ncomponentDidMount\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h4",{attrs:{id:"五、redux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#五、redux"}},[s._v("#")]),s._v(" 五、Redux")]),s._v(" "),t("p",[s._v("看成图书馆")]),s._v(" "),t("p",[s._v("Store--图书管理员")]),s._v(" "),t("p",[s._v("React Components--借阅的学生")]),s._v(" "),t("p",[s._v("Reducers--借阅记录册（//reducer  可以接受 state，但不能修改 state）")]),s._v(" "),t("p",[s._v("Action Creaters--我要借什么书")]),s._v(" "),t("p",[s._v("基本原则：")]),s._v(" "),t("p",[s._v("store 必须唯一")]),s._v(" "),t("p",[s._v("只有 store 能够改变自己的数据内容，reducer  可以接受 state，但不能修改 state")]),s._v(" "),t("p",[s._v("Reducer 必须是个纯函数（给定固定的输入，就一定会有固定的输出，而且不会有任何副作用）")]),s._v(" "),t("p",[s._v("副作用：对参数的修改")]),s._v(" "),t("p",[s._v("核心 API:")]),s._v(" "),t("p",[s._v("createStore")]),s._v(" "),t("p",[s._v("store.dispatch")]),s._v(" "),t("p",[s._v("store.getState")]),s._v(" "),t("p",[s._v("store.subscibe")]),s._v(" "),t("h4",{attrs:{id:"、六、redux-进阶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#、六、redux-进阶"}},[s._v("#")]),s._v(" 、六、Redux 进阶")]),s._v(" "),t("p",[s._v("UI 组件和容器组件:组件拆分")]),s._v(" "),t("p",[s._v("UI 组件:负责页面渲染")]),s._v(" "),t("p",[s._v("容器组件：负责业务逻辑")])])}],!1,null,null,null);e.default=a.exports}}]);