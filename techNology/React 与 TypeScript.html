<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React 与 TypeScript | Grace&#39;s Blog</title>
    <meta name="description" content="信仰、工作、生活">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.b2fa97c3.css" as="style"><link rel="preload" href="/assets/js/app.25f0ea44.js" as="script"><link rel="preload" href="/assets/js/19.6b63b600.js" as="script"><link rel="prefetch" href="/assets/js/10.d5d2af0e.js"><link rel="prefetch" href="/assets/js/11.ba12862c.js"><link rel="prefetch" href="/assets/js/12.eeb86992.js"><link rel="prefetch" href="/assets/js/13.4882fd4d.js"><link rel="prefetch" href="/assets/js/14.00078334.js"><link rel="prefetch" href="/assets/js/15.58a01617.js"><link rel="prefetch" href="/assets/js/16.bc7aa871.js"><link rel="prefetch" href="/assets/js/17.18777b3f.js"><link rel="prefetch" href="/assets/js/18.e47c9be0.js"><link rel="prefetch" href="/assets/js/20.41efddb4.js"><link rel="prefetch" href="/assets/js/21.28410378.js"><link rel="prefetch" href="/assets/js/22.8625582d.js"><link rel="prefetch" href="/assets/js/23.6e5545be.js"><link rel="prefetch" href="/assets/js/24.81855949.js"><link rel="prefetch" href="/assets/js/25.d7829336.js"><link rel="prefetch" href="/assets/js/26.fbda8f6e.js"><link rel="prefetch" href="/assets/js/27.f897798b.js"><link rel="prefetch" href="/assets/js/28.a44f0ce5.js"><link rel="prefetch" href="/assets/js/29.47707aff.js"><link rel="prefetch" href="/assets/js/3.bf92a271.js"><link rel="prefetch" href="/assets/js/4.a187db1a.js"><link rel="prefetch" href="/assets/js/5.35112557.js"><link rel="prefetch" href="/assets/js/6.0272308b.js"><link rel="prefetch" href="/assets/js/7.71191f64.js"><link rel="prefetch" href="/assets/js/8.8d6740dd.js"><link rel="prefetch" href="/assets/js/9.69e4dc6f.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.32940b96.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b2fa97c3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><div><header id="navbarWrapper" class="navbar"><div class="sidebar-button"><i class="iconfont reco-menu"></i></div> <a href="/" class="home-link router-link-active"><img src="/images/chizhiyiheng.png" alt="Grace's Blog" class="logo"> <span class="site-name">Grace's Blog</span></a> <div class="links" style="max-width:nullpx;"><div class="side-search-wrapper"><div class="search-box" data-v-1b2e3b29><input aria-label="Search" autocomplete="off" spellcheck="false" value="" data-v-1b2e3b29> <i class="iconfont reco-search" data-v-1b2e3b29></i> <!----></div></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont undefined"></i>
  首页
</a></div><div class="nav-item"><a href="/markTime/" class="nav-link"><i class="iconfont undefined"></i>
  生活
</a></div><div class="nav-item"><a href="/techNology/" class="nav-link router-link-active"><i class="iconfont undefined"></i>
  工作
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont undefined"></i>
  归档
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Life.html" class="nav-link"><i class="iconfont undefined"></i>
  生活
</a></li><li class="dropdown-item"><!----> <a href="/categories/Faith.html" class="nav-link"><i class="iconfont undefined"></i>
  信仰
</a></li><li class="dropdown-item"><!----> <a href="/categories/Work.html" class="nav-link"><i class="iconfont undefined"></i>
  工作
</a></li></ul></div></div><div class="nav-item"><a href="/tags/" class="nav-link"><i class="iconfont undefined"></i>
  标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://shanyue.tech/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  山月行
  </a></li><li class="dropdown-item"><!----> <a href="https://q.shanyue.tech/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  大厂面试每日一题
  </a></li><li class="dropdown-item"><!----> <a href="https://liuxiangyang.space/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  刘向洋
  </a></li><li class="dropdown-item"><!----> <a href="http://blog.devtang.com/2020/01/01/2019-summary/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  唐巧
  </a></li><li class="dropdown-item"><!----> <a href="https://biaochenxuying.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  夜尽天明
  </a></li></ul></div></div><div class="nav-item"><a href="/myNews/" class="nav-link"><i class="iconfont undefined"></i>
  关于我
</a></div><div class="nav-item"><a href="https://github.com/xilewangzi" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Github
  </a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><div class="side-search-wrapper"><div class="search-box" data-v-1b2e3b29><input aria-label="Search" autocomplete="off" spellcheck="false" value="" data-v-1b2e3b29> <i class="iconfont reco-search" data-v-1b2e3b29></i> <!----></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont undefined"></i>
  首页
</a></div><div class="nav-item"><a href="/markTime/" class="nav-link"><i class="iconfont undefined"></i>
  生活
</a></div><div class="nav-item"><a href="/techNology/" class="nav-link router-link-active"><i class="iconfont undefined"></i>
  工作
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont undefined"></i>
  归档
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Life.html" class="nav-link"><i class="iconfont undefined"></i>
  生活
</a></li><li class="dropdown-item"><!----> <a href="/categories/Faith.html" class="nav-link"><i class="iconfont undefined"></i>
  信仰
</a></li><li class="dropdown-item"><!----> <a href="/categories/Work.html" class="nav-link"><i class="iconfont undefined"></i>
  工作
</a></li></ul></div></div><div class="nav-item"><a href="/tags/" class="nav-link"><i class="iconfont undefined"></i>
  标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://shanyue.tech/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  山月行
  </a></li><li class="dropdown-item"><!----> <a href="https://q.shanyue.tech/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  大厂面试每日一题
  </a></li><li class="dropdown-item"><!----> <a href="https://liuxiangyang.space/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  刘向洋
  </a></li><li class="dropdown-item"><!----> <a href="http://blog.devtang.com/2020/01/01/2019-summary/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  唐巧
  </a></li><li class="dropdown-item"><!----> <a href="https://biaochenxuying.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  夜尽天明
  </a></li></ul></div></div><div class="nav-item"><a href="/myNews/" class="nav-link"><i class="iconfont undefined"></i>
  关于我
</a></div><div class="nav-item"><a href="https://github.com/xilewangzi" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Github
  </a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>React 与 TypeScript</span> <!----></p> <ul class="sidebar-group-items"></ul></div></li></ul> </div> <div class="page reco-hide" data-v-23c3ef88> <div class="page-title" data-v-23c3ef88><h1 data-v-23c3ef88>React 与 TypeScript</h1> <hr data-v-23c3ef88> <div data-v-48defabe data-v-23c3ef88><i class="iconfont reco-account" data-v-48defabe><span data-v-48defabe>grace</span></i> <i class="iconfont reco-date" data-v-48defabe><span data-v-48defabe>2022/3/10</span></i> <!----> <i class="iconfont reco-tag tags" data-v-48defabe><span class="tag-item" data-v-48defabe>
      React
    </span></i></div></div> <div class="content" data-v-23c3ef88><h4 id="基础篇"><a href="#基础篇" class="header-anchor">#</a> 基础篇</h4> <h5 id="三、react-与-typescript"><a href="#三、react-与-typescript" class="header-anchor">#</a> 三、React 与 TypeScript</h5> <p><strong>CSS 模组</strong> JSS：</p> <p>CSS moudle（模组化）</p> <p>每个 jsx 或者 tsx 文件就被视为一个独立存在的原件</p> <p>原件所包含的所有内容也同样都应该是独立存在的</p> <p>import './index.css' --&gt; import style from './index.css'</p> <p><strong>CSS in JS (JSS)添加样式</strong>意思就是使用 JS 语言写 CSS。React  出现以后，这个原则不再适用了。因为，React 是组件结构，强制要求把 HTML、CSS、JavaScript 写在一起。这有利于组件的隔离。每个组件包含了所有需要用到的代码，不依赖外部，组件之间没有耦合，很方便复用。所以，随着 React 的走红和组件模式深入人心，这种&quot;关注点混合&quot;的新写法逐渐成为主流。</p> <p><strong>加载媒体与字体文件</strong></p> <h6 id="state-与-props"><a href="#state-与-props" class="header-anchor">#</a> state 与 props</h6> <p>区别：</p> <p>props 是组件对外的接口，而 state 是组件对内的接口</p> <p>props 用于组件间数据传递，而 state 用于组件内部的数据传递</p> <p><strong>State</strong>是私有的，可以认为 state 是组件的“私有属性”，用 setState()修改 State</p> <p>构建函数 constructor 是唯一可以<strong>初始化</strong>state 的地方</p> <p>State 的更新是异步的，调用 setState 后，不会立刻改变，是异步操作；不要依赖当前的 State，计算下个 State</p> <p><strong>Props</strong>：Properties 缩写，本质上，props 就是传入函数的参数，是从传入组件内部的数据，更准确地说，是从父组件传递向子组件的数据</p> <p>Immutable 不变的 对象一旦创建就不可改变，只能通过销毁、创建来改变数据</p> <p>通过判断内存地址的是否一致，来确认对象是否有经过修改</p> <p>只读属性</p> <p><strong>函数式编程理念</strong></p> <p>ImmutableJS Redux Observable（RxJS)</p> <p><strong>事件驱动 React Event 事件处理:</strong></p> <p>e.target 事件发生的元素</p> <p>e.currentTarget 事件处理绑定单位元素</p> <p><strong>异步处理获取网络 API 数据</strong></p> <p><a href="https://jsonplaceholder.typicode.com/" target="_blank" rel="noopener noreferrer">获取网络测试数据<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong>setState（）</strong> 异步更新，同步执行；setState（）本身并非异步，但对 state 的处理机制给人一种异步的假象。state 处理一般发生在生命周期变化的时候。</p> <p><strong>生命周期：</strong></p> <p>生命周期第一阶段：初始化
  初始化组件 state</p> <p>constructor</p> <p>componentDidMount</p> <p>生命周期第二阶段：更新</p> <p>在组件接收到一个新的 prop（更新后）时被调用</p> <p>static getDerivedStateFromProps(props, state)</p> <p>componentWillReceiveProps(){} 已经废弃</p> <p>shouldComponentUpdate(nextProps,nextState){}</p> <p>组件更新后调用</p> <p>componentDidUpdate(){}</p> <p>生命周期第三阶段：销毁</p> <p>componentWillUnmount(){}</p> <p><strong>17 版本变化：</strong></p> <p>支持逐步升级</p> <p>事件委托机制改变</p> <p>向原生浏览器靠拢</p> <p>删除事件池</p> <p>useEffect 清理操作改为异步操作</p> <p>JSX 不可返回 undefined</p> <p>删除部分私有 API</p> <h4 id="生态篇"><a href="#生态篇" class="header-anchor">#</a> 生态篇</h4> <p>1、<strong>Hooks</strong> 钩子
what：
非类组件中使用 state</p> <p>消息处理的一种方法，用来监听指定程序</p> <p>函数组件中需要处理副作用，可以用钩子把外部代码“钩”进来</p> <p>常用的钩子：useState，useEffect，useContext，useReducer</p> <p>hooks 一律使用 use 前缀命名：useXxx</p> <p>本质：一类特殊的函数，为你的函数式组件注入特殊的功能</p> <p>why:
有些类组件冗长而且复杂，难以复用</p> <p>结局方案：无状态组件与 HOC(高阶组件),但是存在诸多问题</p> <p>目的：</p> <p>给函数式组件加上状态</p> <p>生命周期函数会同时处理多项任务：发起 ajax、跟踪数据状态、绑定事件监听</p> <p>函数式组件则轻量化很多，使用 Hooks 钩子来钩入组件状态</p> <p>不再需要类组件</p> <p>不会再有 this、不会再有 binding、甚至有可能取代 redux</p> <p>useState：声明组件状态</p> <p>useEffect：副作用钩子，可以取代
componentDidMount、
componentDidUpdate、
componentWillUnmount</p> <p>给函数式组件添加副作用（side effect）</p> <p>纯函数（pure function）</p> <p>副作用与纯函数相反，指一个函数处理了与返回值无关的事情</p> <p><strong>Context 与 useContext</strong></p> <p>Context 提供了一个无需为每层组件手动添加 props，就能在组件树间进行数据传递的方法。</p> <p>Context 设计目的是为了共享那些对于一个组件树而言是“全局”的数据。</p> <p><strong>组件化 Context Provider</strong></p> <p>进阶--性能优化、原理</p></div> <!----> <!----> <!----> <div class="page-edit" data-v-23c3ef88><!----> <div class="last-updated" data-v-23c3ef88><span class="prefix" data-v-23c3ef88>Last Updated: </span> <span class="time" data-v-23c3ef88>4/17/2022, 5:16:59 PM</span></div></div> <!----> </div> <div class="valine-wrapper" data-v-1fab1fd0><div id="valine" data-v-1fab1fd0></div></div> <!----> <!----> <div class="back-to-ceiling" style="right:1rem;bottom:3rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;background-color:rgba(231, 234, 241,.5);display:none;" data-v-41016a8b data-v-41016a8b><i class="iconfont reco-up" data-v-41016a8b></i></div></div></div></div>
    <script src="/assets/js/app.25f0ea44.js" defer></script><script src="/assets/js/19.6b63b600.js" defer></script>
  </body>
</html>
